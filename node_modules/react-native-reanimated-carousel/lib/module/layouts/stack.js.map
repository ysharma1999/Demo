{"version":3,"sources":["stack.ts"],"names":["useMemo","Dimensions","Extrapolation","interpolate","screen","get","horizontalStackLayout","modeConfig","_value","showLength","snapDirection","moveSize","width","stackInterval","scaleInterval","opacityInterval","rotateZDeg","validLength","value","inputRange","getCommonVariables","zIndex","opacity","getCommonStyles","translateX","scale","rotateZ","CLAMP","transform","styles","useHorizontalStackLayout","customAnimationConfig","customConfig","config","type","viewCount","layout","verticalStackLayout","translateY","opts","easeInOutCubic","v","page","Math","floor","abs","diff","Error","Number","MIN_VALUE","round"],"mappings":"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","sourcesContent":["import { useMemo } from \"react\";\nimport type { TransformsStyle, ViewStyle } from \"react-native\";\nimport { Dimensions } from \"react-native\";\nimport { Extrapolation, interpolate } from \"react-native-reanimated\";\n\nimport type { CustomConfig, IComputedDirectionTypes } from \"../types\";\n\nconst screen = Dimensions.get(\"window\");\n\nexport interface ILayoutConfig {\n  showLength?: number;\n  moveSize?: number;\n  stackInterval?: number;\n  scaleInterval?: number;\n  opacityInterval?: number;\n  rotateZDeg?: number;\n  snapDirection?: \"left\" | \"right\";\n}\n\nexport type TStackModeProps = IComputedDirectionTypes<{\n  /**\n   * Carousel Animated transitions.\n   */\n  mode?: \"horizontal-stack\" | \"vertical-stack\";\n  /**\n   * Stack animation style.\n   * @default\n   *     snapDirection: 'right',\n   *     moveSize: window.width,\n   *     stackInterval: 30,\n   *     scaleInterval: 0.08,\n   *     rotateZDeg: 135,\n   *     opacityInterval: 0.1,\n   */\n  modeConfig?: ILayoutConfig;\n}>;\n\nexport function horizontalStackLayout(modeConfig: ILayoutConfig = {}) {\n  return (_value: number) => {\n    \"worklet\";\n\n    const {\n      showLength,\n      snapDirection = \"left\",\n      moveSize = screen.width,\n      stackInterval = 18,\n      scaleInterval = 0.04,\n      opacityInterval = 0.1,\n      rotateZDeg = 30,\n    } = modeConfig;\n\n    const { validLength, value, inputRange } = getCommonVariables({\n      showLength: showLength!,\n      value: _value,\n      snapDirection,\n    });\n    const { zIndex, opacity } = getCommonStyles({\n      validLength,\n      value,\n      opacityInterval,\n      snapDirection,\n    });\n\n    let translateX: number;\n    let scale: number;\n    let rotateZ: string;\n\n    if (snapDirection === \"left\") {\n      translateX = interpolate(\n        value,\n        inputRange,\n        [-moveSize, 0, validLength * stackInterval],\n        Extrapolation.CLAMP\n      );\n      scale = interpolate(\n        value,\n        inputRange,\n        [1, 1, 1 - validLength * scaleInterval],\n        Extrapolation.CLAMP\n      );\n      rotateZ = `${interpolate(value, inputRange, [-rotateZDeg, 0, 0], Extrapolation.CLAMP)}deg`;\n    } else if (snapDirection === \"right\") {\n      translateX = interpolate(\n        value,\n        inputRange,\n        [-validLength * stackInterval, 0, moveSize],\n        Extrapolation.CLAMP\n      );\n      scale = interpolate(\n        value,\n        inputRange,\n        [1 - validLength * scaleInterval, 1, 1],\n        Extrapolation.CLAMP\n      );\n      rotateZ = `${interpolate(value, inputRange, [0, 0, rotateZDeg], Extrapolation.CLAMP)}deg`;\n    }\n\n    const transform: TransformsStyle[\"transform\"] = [\n      {\n        translateX: translateX!,\n      },\n      {\n        scale: scale!,\n      },\n      {\n        rotateZ: rotateZ!,\n      },\n    ];\n\n    const styles: ViewStyle = {\n      transform,\n      zIndex,\n      opacity,\n    };\n\n    return styles;\n  };\n}\n\nexport function useHorizontalStackLayout(\n  customAnimationConfig: ILayoutConfig = {},\n  customConfig: CustomConfig = {}\n) {\n  const config = useMemo(\n    () => ({\n      type: customAnimationConfig.snapDirection === \"right\" ? \"negative\" : \"positive\",\n      viewCount: customAnimationConfig.showLength,\n      ...customConfig,\n    }),\n    [customAnimationConfig, customConfig]\n  );\n\n  return {\n    layout: horizontalStackLayout(customAnimationConfig),\n    config,\n  };\n}\n\nexport function verticalStackLayout(modeConfig: ILayoutConfig = {}) {\n  return (_value: number) => {\n    \"worklet\";\n\n    const {\n      showLength,\n      snapDirection = \"left\",\n      moveSize = screen.width,\n      stackInterval = 18,\n      scaleInterval = 0.04,\n      opacityInterval = 0.1,\n      rotateZDeg = 30,\n    } = modeConfig;\n\n    const { validLength, value, inputRange } = getCommonVariables({\n      showLength: showLength!,\n      value: _value,\n      snapDirection,\n    });\n    const { zIndex, opacity } = getCommonStyles({\n      validLength,\n      value,\n      opacityInterval,\n      snapDirection,\n    });\n\n    let translateX: number;\n    let scale: number;\n    let rotateZ: string;\n    let translateY: number;\n\n    if (snapDirection === \"left\") {\n      translateX = interpolate(value, inputRange, [-moveSize, 0, 0], Extrapolation.CLAMP);\n      scale = interpolate(\n        value,\n        inputRange,\n        [1, 1, 1 - validLength * scaleInterval],\n        Extrapolation.CLAMP\n      );\n      rotateZ = `${interpolate(value, inputRange, [-rotateZDeg, 0, 0], Extrapolation.CLAMP)}deg`;\n      translateY = interpolate(\n        value,\n        inputRange,\n        [0, 0, validLength * stackInterval],\n        Extrapolation.CLAMP\n      );\n    } else if (snapDirection === \"right\") {\n      translateX = interpolate(value, inputRange, [0, 0, moveSize], Extrapolation.CLAMP);\n      scale = interpolate(\n        value,\n        inputRange,\n        [1 - validLength * scaleInterval, 1, 1],\n        Extrapolation.CLAMP\n      );\n      rotateZ = `${interpolate(value, inputRange, [0, 0, rotateZDeg], Extrapolation.CLAMP)}deg`;\n      translateY = interpolate(\n        value,\n        inputRange,\n        [validLength * stackInterval, 0, 0],\n        Extrapolation.CLAMP\n      );\n    }\n\n    const transform: TransformsStyle[\"transform\"] = [\n      {\n        translateX: translateX!,\n      },\n      {\n        scale: scale!,\n      },\n      {\n        rotateZ: rotateZ!,\n      },\n      {\n        translateY: translateY!,\n      },\n    ];\n\n    const styles: ViewStyle = {\n      transform,\n      zIndex,\n      opacity,\n    };\n\n    return styles;\n  };\n}\n\nfunction getCommonVariables(opts: {\n  value: number;\n  showLength: number;\n  snapDirection: \"left\" | \"right\";\n}) {\n  \"worklet\";\n\n  const { showLength, value: _value, snapDirection } = opts;\n  function easeInOutCubic(v: number): number {\n    return v < 0.5 ? 4 * v * v * v : 1 - (-2 * v + 2) ** 3 / 2;\n  }\n  const page = Math.floor(Math.abs(_value));\n  const diff = Math.abs(_value) % 1;\n  const value = _value < 0 ? -(page + easeInOutCubic(diff)) : page + easeInOutCubic(diff);\n  const validLength = showLength! - 1;\n\n  let inputRange: [number, number, number];\n\n  if (snapDirection === \"left\") inputRange = [-1, 0, validLength];\n  else if (snapDirection === \"right\") inputRange = [-validLength, 0, 1];\n  else throw new Error(\"snapDirection must be set to either left or right\");\n\n  return {\n    inputRange,\n    validLength,\n    value,\n  };\n}\n\nfunction getCommonStyles(opts: {\n  value: number;\n  validLength: number;\n  opacityInterval: number;\n  snapDirection: \"left\" | \"right\";\n}) {\n  \"worklet\";\n\n  const { snapDirection, validLength, value, opacityInterval } = opts;\n\n  let zIndex: number;\n  let opacity: number;\n\n  if (snapDirection === \"left\") {\n    zIndex =\n      Math.floor(\n        interpolate(\n          value,\n          [-1.5, -1, -1 + Number.MIN_VALUE, 0, validLength],\n          [Number.MIN_VALUE, validLength, validLength, validLength - 1, -1]\n        ) * 10000\n      ) / 100;\n\n    opacity = interpolate(\n      value,\n      [-1, 0, validLength - 1, validLength],\n      [0.25, 1, 1 - (validLength - 1) * opacityInterval, 0.25]\n    );\n  } else if (snapDirection === \"right\") {\n    zIndex =\n      Math.floor(\n        interpolate(\n          value,\n          [-validLength, 0, 1 - Number.MIN_VALUE, 1, 1.5],\n          [1, validLength - 1, validLength, validLength, Number.MIN_VALUE]\n        ) * 10000\n      ) / 100;\n    opacity = interpolate(\n      value,\n      [-validLength, 1 - validLength, 0, 1],\n      [0.25, 1 - (validLength - 1) * opacityInterval, 1, 0.25]\n    );\n  } else {\n    throw new Error(\"snapDirection must be set to either left or right\");\n  }\n\n  return {\n    zIndex: Math.round(zIndex),\n    opacity,\n  };\n}\n"]}