Object.defineProperty(exports,"__esModule",{value:true});exports.ScrollViewGesture=void 0;var _react=_interopRequireWildcard(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _constants=require("../constants");var _usePanGestureProxy=require("../hooks/usePanGestureProxy");var _store=require("../store");var _dealWithAnimation=require("../utils/deal-with-animation");var _jsxRuntime=require("react/jsx-runtime");var _this=this,_jsxFileName="/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var _worklet_1531714765757_init_data={code:"function anonymous(){const{vertical}=this.__closure;return!vertical;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAsEuC,QAAAA,UAAA,wCAAOC,SAAP\",\"names\":[\"anonymous\",\"vertical\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_7341569459418_init_data={code:"function anonymous(){const{loop,overscrollEnabled,measure,containerRef,dataLength,size}=this.__closure;if(!loop&&!overscrollEnabled){const measurement=measure(containerRef);const containerWidth=(measurement===null||measurement===void 0?void 0:measurement.width)||0;if(dataLength*size<containerWidth)return 0;return dataLength*size-containerWidth;}return dataLength*size;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAkFqC,QAAAA,UAAA,EAAM,mFAGvC,GAAI,CAACC,IAAD,EAAS,CAACC,iBAAd,CAAiC,CAC/B,KAAMC,YAAW,CAAGC,OAAO,CAACC,YAAD,CAA3B,CACA,KAAMC,eAAc,CAAGH,YAAW,OAAXA,aAAW,SAAXA,mBAAW,CAAEI,KAAbJ,GAAsB,CAA7C,kFASF,CAdiC,MAAAK,WAAA,CAAAC,IAAA\",\"names\":[\"anonymous\",\"loop\",\"overscrollEnabled\",\"measurement\",\"measure\",\"containerRef\",\"containerWidth\",\"width\",\"dataLength\",\"size\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_17025372725219_init_data={code:"function anonymous(toValue,onFinished){const{scrollAnimationDuration,Easing,dealWithAnimation,withAnimation,runOnJS}=this.__closure;var _withAnimation;const defaultWithAnimation={type:\"timing\",config:{duration:scrollAnimationDuration+100,easing:Easing.easeOutQuart}};return dealWithAnimation((_withAnimation=withAnimation)!==null&&_withAnimation!==void 0?_withAnimation:defaultWithAnimation)(toValue,function(isFinished){\"worklet\";if(isFinished)onFinished&&runOnJS(onFinished)();});}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAoGI,QAACA,UAAD,CAACA,OAAD,CAAkBC,UAAlB,CAA8C,iGAAAC,eAAA,6BAE5CC,IAAMC,UACJD,MAAM,EACNE,QAAQ,CAAAC,uBAAA,IADF,CAEJC,OAAQC,MAAEF,aAFN,GAD0C,MAAlDG,kBAAA,EAAAP,cAAA,CAAAQ,aAAA,UAAAR,cAAA,UAAAA,cAAA,CAAAE,oBAAA,EAAAJ,OAAA,UAAAW,UAAA,EAQA,0DAII,CAZJ,CAAkD,CAclD\",\"names\":[\"toValue\",\"onFinished\",\"_withAnimation\",\"type\",\"defaultWithAnimation\",\"config\",\"scrollAnimationDuration\",\"duration\",\"Easing\",\"dealWithAnimation\",\"withAnimation\",\"isFinished\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_6951725103559_init_data={code:"function anonymous(isFinished){const{onFinished,runOnJS}=this.__closure;if(isFinished)onFinished&&runOnJS(onFinished)();}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAgHQ,QAACA,UAAD,CAACA,UAAD,CAAyB,0CAEvB,GAAIA,UAAJ,CAAgBC,UAAU,EAAIC,OAAO,CAACD,UAAD,CAAPC,EAAdD,CAFlB\",\"names\":[\"isFinished\",\"onFinished\",\"runOnJS\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_12977385834343_init_data={code:"function anonymous(scrollEndTranslationValue,scrollEndVelocityValue,onFinished){const{translation,withDecay,maxScrollDistancePerSwipeIsSet,maxScrollDistancePerSwipe,size,pagingEnabled,withSpring,loop,maxPage,snapEnabled,overscrollEnabled,getLimit}=this.__closure;const origin=translation.value;const velocity=scrollEndVelocityValue;let finalTranslation=withDecay({velocity:velocity,deceleration:0.999});if(maxScrollDistancePerSwipeIsSet&&Math.abs(scrollEndTranslationValue)>maxScrollDistancePerSwipe){finalTranslation=origin;}else{const nextPage=-Math.round((origin+velocity*2)/size);if(pagingEnabled){const offset=-(scrollEndTranslationValue>=0?1:-1);const computed=offset<0?Math.ceil:Math.floor;const page=computed(-origin/size);const velocityDirection=-Math.sign(velocity);if(page===nextPage||velocityDirection!==offset){finalTranslation=withSpring(withProcessTranslation(-page*size),onFinished);}else if(loop){const finalPage=page+offset;finalTranslation=withSpring(withProcessTranslation(-finalPage*size),onFinished);}else{const finalPage=Math.min(maxPage-1,Math.max(0,page+offset));finalTranslation=withSpring(withProcessTranslation(-finalPage*size),onFinished);}}if(!pagingEnabled&&snapEnabled){finalTranslation=withSpring(withProcessTranslation(-nextPage*size),onFinished);}}translation.value=finalTranslation;function withProcessTranslation(translation){if(!loop&&!overscrollEnabled){const limit=getLimit();const sign=Math.sign(translation);return sign*Math.max(0,Math.min(limit,Math.abs(translation)));}return translation;}}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA0HI,QACEA,UADF,CACEA,yBADF,CAEEC,sBAFF,CAGEC,UAHF,CAIK,wLAEH,KAAMC,OAAM,CAAGC,WAAW,CAACC,KAA3B,CACA,KAAMC,SAAQ,CAAGL,sBAAjB,CAEA,GAAIM,iBAAwB,CAAGC,SAAS,CAAC,CAAEF,QAAQ,CAARA,QAAF,CAAYG,YAAY,CAAE,KAA1B,CAAD,CAAxC,CAOEF,kGAJFA,gBAKO,CAAAJ,MALP,CAME,CAFAI,IAEA,CAaA,KAAIG,UAAJ,CAAAC,IAAmB,CAAAC,KAAnB,CAAmB,CAAAT,MAAA,CAAAG,QAAA,IAAAO,IAAnB,EACE,GAAAH,aAAA,EAKA,KAAMI,QAAQ,EAAGC,yBAAyBJ,EAAI,CAA7BI,CAA8BC,CAA9BD,CAAjB,EAAc,CAAd,CACA,KAAME,SAAOH,OAAUX,EAAVW,CAASH,IAAUE,KAAnBC,CAAbH,IAAA,CAAAK,KAAA,CAEA,KAAME,gBAAiBf,MAAjBe,CAA0BC,IAA1BD,CAAN,8CACA,GAAID,IAAI,GAAKG,QAATH,EAAqBC,iBAAiB,GAAKH,MAA/C,CAAuD,CAGrDR,gBAAgB,CAAGc,UAAU,CAACC,sBAAsB,CAAC,CAACL,IAAD,CAAQJ,IAAT,CAAvB,CAAuCX,UAAvC,CAA7BK,CAHF,KAIO,IAAIgB,IAAJ,CAAU,CACf,KAAMC,UAAS,CAAGP,IAAI,CAAGF,MAAzB,CACAR,gBAAgB,CAAGc,UAAU,CAACC,sBAAsB,CAAC,CAACE,SAAD,CAAaX,IAAd,CAAvB,CAA4CX,UAA5C,CAA7BK,CAFK,KAGA,CACL,KAAMiB,UAAS,CAAGb,IAAI,CAACc,GAALd,CAASe,OAAO,CAAG,CAAnBf,CAAsBA,IAAI,CAACgB,GAALhB,CAAS,CAATA,CAAYM,IAAI,CAAGF,MAAnBJ,CAAtBA,CAAlB,CACAJ,gBAAgB,CAAGc,UAAU,CAACC,sBAAsB,CAAC,CAACE,SAAD,CAAaX,IAAd,CAAvB,CAA4CX,UAA5C,CAA7BK,CACF,CACF,iCAGEA,gBAAA,CAAAc,UAAA,CAAAC,sBAAA,EAAAF,QAAA,CAAAP,IAAA,EAAAX,UAAA,EACAK,CACF,CACFH,WAAA,CAAAC,KAAA,CAAAE,gBAAA,8CAEAH,UAAYC,kBAAZD,CAAoBG,wBAEpB,KAASe,4BAAT,CACE,MAAIH,KAAS,CAACS,eAAd,CAAiCH,GAAnBG,CAAmBC,KAAnBD,CAAmBjB,IAAA,CAAAmB,GAAA,CAAA1B,WAAA,CAAnBwB,EAAd,CACE,CACA,MAAAxB,YAAA,CACA,CACF\",\"names\":[\"scrollEndTranslationValue\",\"scrollEndVelocityValue\",\"onFinished\",\"origin\",\"translation\",\"value\",\"velocity\",\"finalTranslation\",\"withDecay\",\"deceleration\",\"pagingEnabled\",\"Math\",\"round\",\"size\",\"computed\",\"offset\",\"floor\",\"page\",\"velocityDirection\",\"sign\",\"nextPage\",\"withSpring\",\"withProcessTranslation\",\"loop\",\"finalPage\",\"min\",\"maxPage\",\"max\",\"overscrollEnabled\",\"limit\",\"abs\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_14563495247267_init_data={code:"function anonymous(isFinished){const{touching,onScrollEnd,runOnJS}=this.__closure;if(isFinished){touching.value=false;onScrollEnd&&runOnJS(onScrollEnd)();}}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAgNI,QAACA,UAAD,CAACA,UAAD,CAAyB,oDAEvB,GAAIA,UAAJ,CAAgB,CACdC,QAAQ,CAACC,KAATD,CAAiB,KAAjBA,CACAE,WAAW,EAAIC,OAAO,CAACD,WAAD,CAAPC,EAAfD,CACF,CALF\",\"names\":[\"isFinished\",\"touching\",\"value\",\"onScrollEnd\",\"runOnJS\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_16649716969613_init_data={code:"function anonymous(){const{touching,translation,withDecay,scrollEndVelocity,onFinish}=this.__closure;touching.value=true;translation.value=withDecay({velocity:scrollEndVelocity.value},function(isFinished){return onFinish(isFinished);});}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA0NwC,QAAAA,UAAA,EAAM,iFAE1CC,QAAQ,CAACC,KAATD,CAAiB,IAAjBA,CACAE,WAAW,CAACD,KAAZC,CAAoBC,SAAS,CAAC,CAAEC,QAAQ,CAAEC,iBAAiB,CAACJ,KAA9B,CAAD,CAAyCK,oBAAU,OAC9EC,SAAQ,CAACD,UAAD,CADsE,CAAnD,EAA7BJ,CAHoC\",\"names\":[\"anonymous\",\"touching\",\"value\",\"translation\",\"withDecay\",\"velocity\",\"scrollEndVelocity\",\"isFinished\",\"onFinish\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_9316552086141_init_data={code:"function anonymous(isFinished){const{onFinish}=this.__closure;return onFinish(isFinished);}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA6N0EA,8BAAU,sCAC9EC,SAAQ,CAACD,UAAD,CADsE,CAAVA\",\"names\":[\"isFinished\",\"onFinish\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_17209842884917_init_data={code:"function anonymous(){const{touching,translation,scrollEndTranslation,activeDecay,loop,withSpring,maxPage,size}=this.__closure;if(touching.value)return;if(translation.value>0){if(scrollEndTranslation.value<0){activeDecay();return;}if(!loop){translation.value=withSpring(0);return;}}if(translation.value<-((maxPage-1)*size)){if(scrollEndTranslation.value>0){activeDecay();return;}if(!loop)translation.value=withSpring(-((maxPage-1)*size));}}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAkO0C,QAAAA,UAAA,EAAM,0GAE5C,GAAIC,QAAQ,CAACC,KAAb,CAAoB,+BAEpB,GAAIC,oBAAJ,CAA2BD,KAAvBC,CAAuB,CAA3B,CAA2B,CACzBC,WAAIC,GACFD,OACA,CACF,IAAAE,IAAA,kCACA,OACEH,CACA,CACF,GAAAA,WAAA,CAAAD,KAAA,IAAAK,OAAA,IAAAC,IAAA,GACF,GAAAH,oBAAA,CAAAH,KAAA,kBAEIC,OACF,CACEC,oBAAW,CAAAF,KAAXE,CAAWK,UAAA,IAAAF,OAAA,IAAAC,IAAA,EAAXJ,CACA,CACF\",\"names\":[\"anonymous\",\"touching\",\"value\",\"translation\",\"activeDecay\",\"scrollEndTranslation\",\"loop\",\"maxPage\",\"size\",\"withSpring\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_4253356379161_init_data={code:"function anonymous(){const{translation}=this.__closure;return translation.value;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA2PI,QAAAA,UAAA,2CAAMC,YAAYC,MAAlB\",\"names\":[\"anonymous\",\"translation\",\"value\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_5879027833140_init_data={code:"function anonymous(){const{pagingEnabled,resetBoundary}=this.__closure;if(!pagingEnabled)resetBoundary();}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA4PI,QAAAA,UAAA,EAAM,mDACJ,GAAI,CAACC,aAAL,CAAoBC,aAAa,GADnC\",\"names\":[\"anonymous\",\"pagingEnabled\",\"resetBoundary\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_10563352902258_init_data={code:"function withProcessTranslation(translation){const{loop,overscrollEnabled,getLimit}=this.__closure;if(!loop&&!overscrollEnabled){const limit=getLimit();const sign=Math.sign(translation);return sign*Math.max(0,Math.min(limit,Math.abs(translation)));}return translation;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAkQE,QAAAA,uBAAA,CAAAC,WAAA,wDAGE,GAAI,CAACC,IAAD,EAAS,CAACC,iBAAd,CAAiC,CAC/B,KAAMC,MAAK,CAAGC,QAAQ,EAAtB,CACA,KAAMC,KAAI,CAAGC,IAAI,CAACD,IAALC,CAAUN,WAAVM,CAAb,CACA,MAAOD,KAAI,CAAGC,IAAI,CAACC,GAALD,CAAS,CAATA,CAAYA,IAAI,CAACE,GAALF,CAASH,KAATG,CAAgBA,IAAI,CAACG,GAALH,CAASN,WAATM,CAAhBA,CAAZA,CAAd,CACF,oBAEA\",\"names\":[\"withProcessTranslation\",\"translation\",\"loop\",\"overscrollEnabled\",\"limit\",\"getLimit\",\"sign\",\"Math\",\"max\",\"min\",\"abs\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_12682811570627_init_data={code:"function anonymous(_){const{touching,validStart,onScrollStart,runOnJS,max,maxPage,size,loop,overscrollEnabled,getLimit,panOffset,translation}=this.__closure;touching.value=true;validStart.value=true;onScrollStart&&runOnJS(onScrollStart)();max.value=(maxPage-1)*size;if(!loop&&!overscrollEnabled)max.value=getLimit();panOffset.value=translation.value;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA+QI,QAACA,UAAD,CAAsCA,CAAtC,CAAsC,wIAGpCC,QAAQ,CAACC,KAATD,CAAiB,IAAjBA,CACAE,UAAU,CAACD,KAAXC,CAAmB,IAAnBA,CACAC,aAAa,EAAIC,OAAO,CAACD,aAAD,CAAPC,EAAjBD,CAEAE,GAAG,CAACJ,KAAJI,CAAY,CAACC,OAAO,CAAG,CAAX,EAAgBC,IAA5BF,CACA,GAAI,CAACG,IAAD,EAAS,CAACC,iBAAd,CAAiCJ,GAAG,CAACJ,KAAJI,CAAYK,QAAQ,EAApBL,CAEjCM,SAAS,CAACV,KAAVU,CAAkBC,WAAW,CAACX,KAA9BU,CAVF\",\"names\":[\"_\",\"touching\",\"value\",\"validStart\",\"onScrollStart\",\"runOnJS\",\"max\",\"maxPage\",\"size\",\"loop\",\"overscrollEnabled\",\"getLimit\",\"panOffset\",\"translation\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_13700325976355_init_data={code:"function anonymous(e){const{panOffset,validStart,cancelAnimation,translation,touching,isHorizontal,fixedDirection,loop,max}=this.__closure;if(panOffset.value===undefined){return;}if(validStart.value){validStart.value=false;cancelAnimation(translation);}touching.value=true;const{translationX:translationX,translationY:translationY}=e;let panTranslation=isHorizontal.value?translationX:translationY;if(fixedDirection===\"negative\")panTranslation=-Math.abs(panTranslation);else if(fixedDirection===\"positive\")panTranslation=+Math.abs(panTranslation);if(!loop){if(translation.value>0||translation.value<-max.value){const boundary=translation.value>0?0:-max.value;const fixed=boundary-panOffset.value;const dynamic=panTranslation-fixed;translation.value=boundary+dynamic*0.5;return;}}const translationValue=panOffset.value+panTranslation;translation.value=translationValue;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AA2SI,QAACA,UAAD,CAAsCA,CAAtC,CAAsC,sHAGpC,GAAIC,SAAS,CAACC,KAAVD,GAAoBE,SAAxB,CAAmC,CAYnC,QAEA,GAAIC,UAAU,CAACF,KAAf,CAAsB,CACpBE,UAAU,CAACF,KAAXE,CAAmB,KAAnBA,CACAC,eAAe,CAACC,WAAD,CAAfD,CACF,qBACAE,MACAC,YAAM,CAAAA,YADND,CACQC,YAAY,CAAZA,YADRD,EACsBE,CADtBF,CACM,GAAiCP,eAAvC,CAAAU,YAAA,CAAAR,KAAA,CAAAM,YAAA,CAAAC,YAAM,CAEN,GAAIE,cAAc,GAAGD,UAArB,CAAkCR,cAAQM,MAAeC,IAAfD,CAAeC,cAAfD,CAARN,CAAlC,QAAAU,cAAA,cAAAD,cAAA,EAAAE,IAAA,CAAAC,GAAA,CAAAH,cAAA,EAEA,GAAIC,KAAJ,CAAIA,uDAGA,KAAJG,SAAW,CAAAT,WAAA,CAAAJ,KAAA,MAAAc,GAAA,CAAAd,KAAP,CACF,KAAII,OAAYJ,QAAQ,CAApBI,SAAyBA,MAA7B,CACE,KAAMS,SAAQJ,cAAeT,MAA7B,CACAI,WAAW,CAAAJ,KAAX,CAAca,QAAWd,QAAUC,CAAnC,IACA,OACAI,CACA,CACF,KAAAW,iBAAA,CAAAhB,SAAA,CAAAC,KAAA,CAAAS,cAAA,CACFL,WAAA,CAAAJ,KAAA,CAAAe,gBAAA\",\"names\":[\"e\",\"panOffset\",\"value\",\"undefined\",\"validStart\",\"cancelAnimation\",\"translation\",\"touching\",\"translationX\",\"translationY\",\"isHorizontal\",\"panTranslation\",\"fixedDirection\",\"Math\",\"abs\",\"boundary\",\"max\",\"translationValue\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_5903812679509_init_data={code:"function anonymous(e,_success){const{panOffset,isHorizontal,scrollEndVelocity,fixedDirection,scrollEndTranslation,maxScrollDistancePerSwipeIsSet,maxScrollDistancePerSwipe,size,translation,withSpring,withProcessTranslation,onScrollEnd,minScrollDistancePerSwipeIsSet,minScrollDistancePerSwipe,endWithSpring,loop,touching}=this.__closure;if(panOffset.value===undefined){return;}const{velocityX:velocityX,velocityY:velocityY,translationX:translationX,translationY:translationY}=e;const scrollEndVelocityValue=isHorizontal.value?velocityX:velocityY;scrollEndVelocity.value=scrollEndVelocityValue;let panTranslation=isHorizontal.value?translationX:translationY;if(fixedDirection===\"negative\")panTranslation=-Math.abs(panTranslation);else if(fixedDirection===\"positive\")panTranslation=+Math.abs(panTranslation);scrollEndTranslation.value=panTranslation;const totalTranslation=scrollEndVelocityValue+panTranslation;if(maxScrollDistancePerSwipeIsSet&&Math.abs(totalTranslation)>maxScrollDistancePerSwipe){const nextPage=Math.round((panOffset.value+maxScrollDistancePerSwipe*Math.sign(totalTranslation))/size)*size;translation.value=withSpring(withProcessTranslation(nextPage),onScrollEnd);}else if(minScrollDistancePerSwipeIsSet&&Math.abs(totalTranslation)<minScrollDistancePerSwipe){const nextPage=Math.round((panOffset.value+minScrollDistancePerSwipe*Math.sign(totalTranslation))/size)*size;translation.value=withSpring(withProcessTranslation(nextPage),onScrollEnd);}else{endWithSpring(panTranslation,scrollEndVelocityValue,onScrollEnd);}if(!loop)touching.value=false;panOffset.value=undefined;}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAmWI,QAACA,UAAD,CAA4DC,CAA5D,CAACD,QAAD,CAAkF,iTAGhF,GAAIE,SAAS,CAACC,KAAVD,GAAoBE,SAAxB,CAAmC,CAEjC,OACF,OAEAC,SAAM,CAAAA,UAAEA,SAAS,CAATA,UAAWC,0BAAWC,YAAY,CAAZA,cAAcC,EAAtC,KAANC,uBAAA,CAAAC,YAAA,CAAAP,KAAA,CAAAE,SAAA,CAAAC,SAAM,CACNK,iBAAMF,MAAN,CAAMA,sBAAN,iEAGA,GAAIG,cAAc,GAAGF,UAArB,CAAkCP,cAAQI,MAAeC,IAAfD,CAAeC,cAAfD,CAARJ,CAAlC,QAAAU,cAAA,cAAAD,cAAA,EAAAE,IAAA,CAAAC,GAAA,CAAAH,cAAA,EAEAI,oBAAkB,CAAAb,KAAlB,CAAuBS,cAAvB,uJAWA,KACEK,+BACAH,MADAG,CACSC,yBAAoBC,4BAD7BF,EAEAG,IAFAH,EAEAG,IAHF,CAIEC,WAAMC,MAAN,CACER,UACGZ,uBAAkBiB,UAAlBjB,CAAkBiB,WAAlBjB,CAFL,CAIAmB,SAKRE,8BAAA,EAAAT,IAAA,CAAAC,GAAA,CAAAG,gBAAA,EAAAM,yBALQH,CAKR,CACQE,0BAA8B,CAAArB,SACzBa,MADyB,CACrBG,yBAAoBM,4BADC,EAE9BJ,IAFAG,EAEAH,IAFAG,CAGAF,WAAMC,MAAN,CACER,UACGZ,uBAAkBsB,UAAlBtB,CAAkBsB,WAAlBtB,CAFL,CAIAmB,CAbAA,IAaAA,CAZKI,aAaA,CAAAb,cAAA,CAAAH,sBAAA,CAAAiB,WAAA,CAbA,CAcLD,CACF,IAAAE,IAAA,CAAAC,QAAA,CAAAzB,KAAA,iCAEA\",\"names\":[\"e\",\"_success\",\"panOffset\",\"value\",\"undefined\",\"velocityX\",\"velocityY\",\"translationX\",\"translationY\",\"scrollEndVelocityValue\",\"isHorizontal\",\"scrollEndVelocity\",\"panTranslation\",\"fixedDirection\",\"Math\",\"abs\",\"scrollEndTranslation\",\"maxScrollDistancePerSwipeIsSet\",\"totalTranslation\",\"maxScrollDistancePerSwipe\",\"size\",\"translation\",\"nextPage\",\"minScrollDistancePerSwipeIsSet\",\"minScrollDistancePerSwipe\",\"endWithSpring\",\"onScrollEnd\",\"loop\",\"touching\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var _worklet_12631322739832_init_data={code:"function anonymous(e){const{updateContainerSize}=this.__closure;updateContainerSize({width:e.nativeEvent.layout.width,height:e.nativeEvent.layout.height});}",location:"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx",sourceMap:"{\"version\":3,\"mappings\":\"AAubI,QAACA,UAAD,CAA0BA,CAA1B,CAA0B,2CAExBC,mBAAmB,CAAC,CAClBC,KAAK,CAAEF,CAAC,CAACG,WAAFH,CAAcI,MAAdJ,CAAqBE,KADV,CAElBG,MAAM,CAAEL,CAAC,CAACG,WAAFH,CAAcI,MAAdJ,CAAqBK,MAFX,CAAD,CAAnBJ,CAFF\",\"names\":[\"e\",\"updateContainerSize\",\"width\",\"nativeEvent\",\"layout\",\"height\"],\"sources\":[\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/components/ScrollViewGesture.tsx\"]}",version:"3.10.1"};var IScrollViewGesture=function IScrollViewGesture(props){var _useGlobalState=(0,_store.useGlobalState)(),_useGlobalState$props=_useGlobalState.props,onConfigurePanGesture=_useGlobalState$props.onConfigurePanGesture,vertical=_useGlobalState$props.vertical,pagingEnabled=_useGlobalState$props.pagingEnabled,snapEnabled=_useGlobalState$props.snapEnabled,loop=_useGlobalState$props.loop,scrollAnimationDuration=_useGlobalState$props.scrollAnimationDuration,withAnimation=_useGlobalState$props.withAnimation,enabled=_useGlobalState$props.enabled,dataLength=_useGlobalState$props.dataLength,overscrollEnabled=_useGlobalState$props.overscrollEnabled,maxScrollDistancePerSwipe=_useGlobalState$props.maxScrollDistancePerSwipe,minScrollDistancePerSwipe=_useGlobalState$props.minScrollDistancePerSwipe,fixedDirection=_useGlobalState$props.fixedDirection,size=_useGlobalState.common.size,updateContainerSize=_useGlobalState.layout.updateContainerSize;var translation=props.translation,testID=props.testID,_props$style=props.style,style=_props$style===void 0?{}:_props$style,onScrollStart=props.onScrollStart,onScrollEnd=props.onScrollEnd,onTouchBegin=props.onTouchBegin,onTouchEnd=props.onTouchEnd;var maxPage=dataLength;var isHorizontal=(0,_reactNativeReanimated.useDerivedValue)(function(){var _e=[new global.Error(),-2,-27];var anonymous=function anonymous(){return!vertical;};anonymous.__closure={vertical:vertical};anonymous.__workletHash=1531714765757;anonymous.__initData=_worklet_1531714765757_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[vertical]);var max=(0,_reactNativeReanimated.useSharedValue)(0);var panOffset=(0,_reactNativeReanimated.useSharedValue)(undefined);var touching=(0,_reactNativeReanimated.useSharedValue)(false);var validStart=(0,_reactNativeReanimated.useSharedValue)(false);var scrollEndTranslation=(0,_reactNativeReanimated.useSharedValue)(0);var scrollEndVelocity=(0,_reactNativeReanimated.useSharedValue)(0);var containerRef=(0,_reactNativeReanimated.useAnimatedRef)();var maxScrollDistancePerSwipeIsSet=typeof maxScrollDistancePerSwipe==="number";var minScrollDistancePerSwipeIsSet=typeof minScrollDistancePerSwipe==="number";var getLimit=_react.default.useCallback(function(){var _e=[new global.Error(),-7,-27];var anonymous=function anonymous(){if(!loop&&!overscrollEnabled){var measurement=(0,_reactNativeReanimated.measure)(containerRef);var containerWidth=(measurement==null?void 0:measurement.width)||0;if(dataLength*size<containerWidth)return 0;return dataLength*size-containerWidth;}return dataLength*size;};anonymous.__closure={loop:loop,overscrollEnabled:overscrollEnabled,measure:_reactNativeReanimated.measure,containerRef:containerRef,dataLength:dataLength,size:size};anonymous.__workletHash=7341569459418;anonymous.__initData=_worklet_7341569459418_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[loop,size,dataLength,overscrollEnabled]);var withSpring=_react.default.useCallback(function(){var _e=[new global.Error(),-6,-27];var anonymous=function anonymous(toValue,onFinished){var defaultWithAnimation={type:"timing",config:{duration:scrollAnimationDuration+100,easing:_constants.Easing.easeOutQuart}};return(0,_dealWithAnimation.dealWithAnimation)(withAnimation!=null?withAnimation:defaultWithAnimation)(toValue,function(){var _e=[new global.Error(),-3,-27];var anonymous=function anonymous(isFinished){if(isFinished)onFinished&&(0,_reactNativeReanimated.runOnJS)(onFinished)();};anonymous.__closure={onFinished:onFinished,runOnJS:_reactNativeReanimated.runOnJS};anonymous.__workletHash=6951725103559;anonymous.__initData=_worklet_6951725103559_init_data;anonymous.__stackDetails=_e;return anonymous;}());};anonymous.__closure={scrollAnimationDuration:scrollAnimationDuration,Easing:_constants.Easing,dealWithAnimation:_dealWithAnimation.dealWithAnimation,withAnimation:withAnimation,runOnJS:_reactNativeReanimated.runOnJS};anonymous.__workletHash=17025372725219;anonymous.__initData=_worklet_17025372725219_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[scrollAnimationDuration,withAnimation]);var endWithSpring=_react.default.useCallback(function(){var _e=[new global.Error(),-13,-27];var anonymous=function anonymous(scrollEndTranslationValue,scrollEndVelocityValue,onFinished){var origin=translation.value;var velocity=scrollEndVelocityValue;var finalTranslation=(0,_reactNativeReanimated.withDecay)({velocity:velocity,deceleration:0.999});if(maxScrollDistancePerSwipeIsSet&&Math.abs(scrollEndTranslationValue)>maxScrollDistancePerSwipe){finalTranslation=origin;}else{var nextPage=-Math.round((origin+velocity*2)/size);if(pagingEnabled){var offset=-(scrollEndTranslationValue>=0?1:-1);var computed=offset<0?Math.ceil:Math.floor;var page=computed(-origin/size);var velocityDirection=-Math.sign(velocity);if(page===nextPage||velocityDirection!==offset){finalTranslation=withSpring(withProcessTranslation(-page*size),onFinished);}else if(loop){var finalPage=page+offset;finalTranslation=withSpring(withProcessTranslation(-finalPage*size),onFinished);}else{var _finalPage=Math.min(maxPage-1,Math.max(0,page+offset));finalTranslation=withSpring(withProcessTranslation(-_finalPage*size),onFinished);}}if(!pagingEnabled&&snapEnabled){finalTranslation=withSpring(withProcessTranslation(-nextPage*size),onFinished);}}translation.value=finalTranslation;function withProcessTranslation(translation){if(!loop&&!overscrollEnabled){var limit=getLimit();var sign=Math.sign(translation);return sign*Math.max(0,Math.min(limit,Math.abs(translation)));}return translation;}};anonymous.__closure={translation:translation,withDecay:_reactNativeReanimated.withDecay,maxScrollDistancePerSwipeIsSet:maxScrollDistancePerSwipeIsSet,maxScrollDistancePerSwipe:maxScrollDistancePerSwipe,size:size,pagingEnabled:pagingEnabled,withSpring:withSpring,loop:loop,maxPage:maxPage,snapEnabled:snapEnabled,overscrollEnabled:overscrollEnabled,getLimit:getLimit};anonymous.__workletHash=12977385834343;anonymous.__initData=_worklet_12977385834343_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[withSpring,size,maxPage,loop,snapEnabled,translation,pagingEnabled,maxScrollDistancePerSwipe,maxScrollDistancePerSwipeIsSet]);var onFinish=_react.default.useCallback(function(){var _e=[new global.Error(),-4,-27];var anonymous=function anonymous(isFinished){if(isFinished){touching.value=false;onScrollEnd&&(0,_reactNativeReanimated.runOnJS)(onScrollEnd)();}};anonymous.__closure={touching:touching,onScrollEnd:onScrollEnd,runOnJS:_reactNativeReanimated.runOnJS};anonymous.__workletHash=14563495247267;anonymous.__initData=_worklet_14563495247267_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[onScrollEnd,touching]);var activeDecay=_react.default.useCallback(function(){var _e=[new global.Error(),-6,-27];var anonymous=function anonymous(){touching.value=true;translation.value=(0,_reactNativeReanimated.withDecay)({velocity:scrollEndVelocity.value},function(){var _e=[new global.Error(),-2,-27];var anonymous=function anonymous(isFinished){return onFinish(isFinished);};anonymous.__closure={onFinish:onFinish};anonymous.__workletHash=9316552086141;anonymous.__initData=_worklet_9316552086141_init_data;anonymous.__stackDetails=_e;return anonymous;}());};anonymous.__closure={touching:touching,translation:translation,withDecay:_reactNativeReanimated.withDecay,scrollEndVelocity:scrollEndVelocity,onFinish:onFinish};anonymous.__workletHash=16649716969613;anonymous.__initData=_worklet_16649716969613_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[onFinish,scrollEndVelocity,touching,translation]);var resetBoundary=_react.default.useCallback(function(){var _e=[new global.Error(),-9,-27];var anonymous=function anonymous(){if(touching.value)return;if(translation.value>0){if(scrollEndTranslation.value<0){activeDecay();return;}if(!loop){translation.value=withSpring(0);return;}}if(translation.value<-((maxPage-1)*size)){if(scrollEndTranslation.value>0){activeDecay();return;}if(!loop)translation.value=withSpring(-((maxPage-1)*size));}};anonymous.__closure={touching:touching,translation:translation,scrollEndTranslation:scrollEndTranslation,activeDecay:activeDecay,loop:loop,withSpring:withSpring,maxPage:maxPage,size:size};anonymous.__workletHash=17209842884917;anonymous.__initData=_worklet_17209842884917_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[touching,translation,maxPage,size,scrollEndTranslation,loop,activeDecay,withSpring]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _e=[new global.Error(),-2,-27];var anonymous=function anonymous(){return translation.value;};anonymous.__closure={translation:translation};anonymous.__workletHash=4253356379161;anonymous.__initData=_worklet_4253356379161_init_data;anonymous.__stackDetails=_e;return anonymous;}(),function(){var _e=[new global.Error(),-3,-27];var anonymous=function anonymous(){if(!pagingEnabled)resetBoundary();};anonymous.__closure={pagingEnabled:pagingEnabled,resetBoundary:resetBoundary};anonymous.__workletHash=5879027833140;anonymous.__initData=_worklet_5879027833140_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[pagingEnabled,resetBoundary]);var withProcessTranslation=function(){var _e=[new global.Error(),-4,-27];var withProcessTranslation=function withProcessTranslation(translation){if(!loop&&!overscrollEnabled){var limit=getLimit();var sign=Math.sign(translation);return sign*Math.max(0,Math.min(limit,Math.abs(translation)));}return translation;};withProcessTranslation.__closure={loop:loop,overscrollEnabled:overscrollEnabled,getLimit:getLimit};withProcessTranslation.__workletHash=10563352902258;withProcessTranslation.__initData=_worklet_10563352902258_init_data;withProcessTranslation.__stackDetails=_e;return withProcessTranslation;}();var onGestureStart=(0,_react.useCallback)(function(){var _e=[new global.Error(),-13,-27];var anonymous=function anonymous(_){touching.value=true;validStart.value=true;onScrollStart&&(0,_reactNativeReanimated.runOnJS)(onScrollStart)();max.value=(maxPage-1)*size;if(!loop&&!overscrollEnabled)max.value=getLimit();panOffset.value=translation.value;};anonymous.__closure={touching:touching,validStart:validStart,onScrollStart:onScrollStart,runOnJS:_reactNativeReanimated.runOnJS,max:max,maxPage:maxPage,size:size,loop:loop,overscrollEnabled:overscrollEnabled,getLimit:getLimit,panOffset:panOffset,translation:translation};anonymous.__workletHash=12682811570627;anonymous.__initData=_worklet_12682811570627_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[max,size,maxPage,loop,touching,panOffset,validStart,translation,overscrollEnabled,getLimit,onScrollStart]);var onGestureUpdate=(0,_react.useCallback)(function(){var _e=[new global.Error(),-10,-27];var anonymous=function anonymous(e){if(panOffset.value===undefined){return;}if(validStart.value){validStart.value=false;(0,_reactNativeReanimated.cancelAnimation)(translation);}touching.value=true;var translationX=e.translationX,translationY=e.translationY;var panTranslation=isHorizontal.value?translationX:translationY;if(fixedDirection==="negative")panTranslation=-Math.abs(panTranslation);else if(fixedDirection==="positive")panTranslation=+Math.abs(panTranslation);if(!loop){if(translation.value>0||translation.value<-max.value){var boundary=translation.value>0?0:-max.value;var fixed=boundary-panOffset.value;var dynamic=panTranslation-fixed;translation.value=boundary+dynamic*0.5;return;}}var translationValue=panOffset.value+panTranslation;translation.value=translationValue;};anonymous.__closure={panOffset:panOffset,validStart:validStart,cancelAnimation:_reactNativeReanimated.cancelAnimation,translation:translation,touching:touching,isHorizontal:isHorizontal,fixedDirection:fixedDirection,loop:loop,max:max};anonymous.__workletHash=13700325976355;anonymous.__initData=_worklet_13700325976355_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[isHorizontal,max,panOffset,loop,overscrollEnabled,fixedDirection,translation,validStart,touching]);var onGestureEnd=(0,_react.useCallback)(function(){var _e=[new global.Error(),-18,-27];var anonymous=function anonymous(e,_success){if(panOffset.value===undefined){return;}var velocityX=e.velocityX,velocityY=e.velocityY,translationX=e.translationX,translationY=e.translationY;var scrollEndVelocityValue=isHorizontal.value?velocityX:velocityY;scrollEndVelocity.value=scrollEndVelocityValue;var panTranslation=isHorizontal.value?translationX:translationY;if(fixedDirection==="negative")panTranslation=-Math.abs(panTranslation);else if(fixedDirection==="positive")panTranslation=+Math.abs(panTranslation);scrollEndTranslation.value=panTranslation;var totalTranslation=scrollEndVelocityValue+panTranslation;if(maxScrollDistancePerSwipeIsSet&&Math.abs(totalTranslation)>maxScrollDistancePerSwipe){var nextPage=Math.round((panOffset.value+maxScrollDistancePerSwipe*Math.sign(totalTranslation))/size)*size;translation.value=withSpring(withProcessTranslation(nextPage),onScrollEnd);}else if(minScrollDistancePerSwipeIsSet&&Math.abs(totalTranslation)<minScrollDistancePerSwipe){var _nextPage=Math.round((panOffset.value+minScrollDistancePerSwipe*Math.sign(totalTranslation))/size)*size;translation.value=withSpring(withProcessTranslation(_nextPage),onScrollEnd);}else{endWithSpring(panTranslation,scrollEndVelocityValue,onScrollEnd);}if(!loop)touching.value=false;panOffset.value=undefined;};anonymous.__closure={panOffset:panOffset,isHorizontal:isHorizontal,scrollEndVelocity:scrollEndVelocity,fixedDirection:fixedDirection,scrollEndTranslation:scrollEndTranslation,maxScrollDistancePerSwipeIsSet:maxScrollDistancePerSwipeIsSet,maxScrollDistancePerSwipe:maxScrollDistancePerSwipe,size:size,translation:translation,withSpring:withSpring,withProcessTranslation:withProcessTranslation,onScrollEnd:onScrollEnd,minScrollDistancePerSwipeIsSet:minScrollDistancePerSwipeIsSet,minScrollDistancePerSwipe:minScrollDistancePerSwipe,endWithSpring:endWithSpring,loop:loop,touching:touching};anonymous.__workletHash=5903812679509;anonymous.__initData=_worklet_5903812679509_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[size,loop,touching,panOffset,translation,isHorizontal,scrollEndVelocity,scrollEndTranslation,fixedDirection,maxScrollDistancePerSwipeIsSet,maxScrollDistancePerSwipe,maxScrollDistancePerSwipeIsSet,minScrollDistancePerSwipe,endWithSpring,withSpring,onScrollEnd]);var gesture=(0,_usePanGestureProxy.usePanGestureProxy)({onConfigurePanGesture:onConfigurePanGesture,onGestureStart:onGestureStart,onGestureUpdate:onGestureUpdate,onGestureEnd:onGestureEnd,options:{enabled:enabled}});var onLayout=_react.default.useCallback(function(){var _e=[new global.Error(),-2,-27];var anonymous=function anonymous(e){updateContainerSize({width:e.nativeEvent.layout.width,height:e.nativeEvent.layout.height});};anonymous.__closure={updateContainerSize:updateContainerSize};anonymous.__workletHash=12631322739832;anonymous.__initData=_worklet_12631322739832_init_data;anonymous.__stackDetails=_e;return anonymous;}(),[updateContainerSize]);return(0,_jsxRuntime.jsx)(_reactNativeGestureHandler.GestureDetector,{gesture:gesture,children:(0,_jsxRuntime.jsx)(_reactNativeReanimated.default.View,{ref:containerRef,testID:testID,style:style,onTouchStart:onTouchBegin,onTouchEnd:onTouchEnd,onLayout:onLayout,children:props.children})});};var ScrollViewGesture=IScrollViewGesture;exports.ScrollViewGesture=ScrollViewGesture;
//# sourceMappingURL=ScrollViewGesture.js.map