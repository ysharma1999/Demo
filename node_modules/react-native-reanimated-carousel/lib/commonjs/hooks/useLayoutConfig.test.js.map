{"version":3,"sources":["useLayoutConfig.test.tsx"],"names":["describe","defaultProps","size","vertical","it","data","renderItem","loop","autoFillData","defaultIndex","autoPlayInterval","scrollAnimationDuration","width","height","rawData","dataLength","rawDataLength","result","expect","current","toBeDefined","toBe","props","mode","modeConfig","parallaxScrollingScale","parallaxScrollingOffset","parallaxAdjacentItemScale","style","transform","toContainEqual","translateX","scale","snapDirection","showLength","zIndex","opacity","translateY","style1","style2","style3","rerender","firstResult","initialProps","not"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View } from \"react-native\";\n\nimport { renderHook } from \"@testing-library/react-hooks\";\n\nimport { useLayoutConfig } from \"./useLayoutConfig\";\n\ndescribe(\"useLayoutConfig\", () => {\n  const defaultProps = {\n    size: 300,\n    vertical: false,\n  };\n  it(\"should return normal layout by default\", () => {\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...defaultProps,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n\n    expect(result.current).toBeDefined();\n    expect(typeof result.current).toBe(\"function\");\n  });\n\n  it(\"should handle parallax mode\", () => {\n    const props = {\n      ...defaultProps,\n      mode: \"parallax\" as const,\n      modeConfig: {\n        parallaxScrollingScale: 0.9,\n        parallaxScrollingOffset: 50,\n        parallaxAdjacentItemScale: 0.8,\n      },\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.transform).toContainEqual({ translateX: 0 });\n    expect(style.transform).toContainEqual({ scale: 0.9 });\n  });\n\n  it(\"should handle horizontal-stack mode\", () => {\n    const props = {\n      ...defaultProps,\n      mode: \"horizontal-stack\" as const,\n      modeConfig: {\n        snapDirection: \"left\" as const,\n        showLength: 3,\n      },\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.zIndex).toBeDefined();\n    expect(style.opacity).toBeDefined();\n  });\n\n  it(\"should handle vertical-stack mode\", () => {\n    const props = {\n      ...defaultProps,\n      mode: \"vertical-stack\" as const,\n      modeConfig: {\n        snapDirection: \"left\" as const,\n        showLength: 3,\n      },\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.zIndex).toBeDefined();\n    expect(style.opacity).toBeDefined();\n  });\n\n  it(\"should handle vertical orientation\", () => {\n    const props = {\n      ...defaultProps,\n      vertical: true,\n    };\n\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...props,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const style = result.current(0); // Test with offset 0\n\n    expect(style.transform).toBeDefined();\n    expect(style.transform).toContainEqual({ translateY: 0 });\n  });\n\n  it(\"should handle different offsets\", () => {\n    const { result } = renderHook(() =>\n      useLayoutConfig({\n        ...defaultProps,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n\n    const style1 = result.current(-1); // Previous item\n    const style2 = result.current(0); // Current item\n    const style3 = result.current(1); // Next item\n\n    expect(style1.transform).toContainEqual({ translateX: -300 });\n    expect(style2.transform).toContainEqual({ translateX: 0 });\n    expect(style3.transform).toContainEqual({ translateX: 300 });\n  });\n\n  it(\"should memoize layout function\", () => {\n    const { result, rerender } = renderHook(() =>\n      useLayoutConfig({\n        ...defaultProps,\n        data: [],\n        renderItem: () => <View />,\n        loop: false,\n        autoFillData: false,\n        defaultIndex: 0,\n        autoPlayInterval: 0,\n        scrollAnimationDuration: 0,\n        width: 0,\n        height: 0,\n        rawData: [],\n        dataLength: 0,\n        rawDataLength: 0,\n      })\n    );\n    const firstResult = result.current;\n\n    rerender();\n    expect(result.current).toBe(firstResult);\n  });\n\n  it(\"should update layout when props change\", () => {\n    const { result, rerender } = renderHook(\n      (props) =>\n        useLayoutConfig({\n          ...props,\n          data: [],\n          renderItem: () => <View />,\n          loop: false,\n          autoFillData: false,\n          defaultIndex: 0,\n          autoPlayInterval: 0,\n          scrollAnimationDuration: 0,\n          width: 0,\n          height: 0,\n          rawData: [],\n          dataLength: 0,\n          rawDataLength: 0,\n        }),\n      {\n        initialProps: defaultProps,\n      }\n    );\n    const firstResult = result.current;\n\n    rerender({ ...defaultProps, size: 400 });\n    expect(result.current).not.toBe(firstResult);\n  });\n});\n"]}